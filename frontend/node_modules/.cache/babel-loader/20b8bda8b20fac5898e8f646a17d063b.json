{"ast":null,"code":"var _jsxFileName = \"G:\\\\.Work\\\\.Personal\\\\Website\\\\frontend\\\\src\\\\components\\\\Charts\\\\realDataFromSala.js\",\n    _s = $RefreshSig$();\n\nimport \"chartjs-adapter-date-fns\";\nimport React, { useEffect, useState } from \"react\";\nimport { Table } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport authHeader from \"../../services/auth-header\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction formatFimByLimpeza(fim, tempoLimpeza) {\n  var h = parseInt(fim.slice(0, 2));\n  var m = parseInt(fim.slice(3, 5));\n  m -= parseInt(tempoLimpeza);\n\n  while (m < 0) {\n    m += 60;\n    h -= 1;\n  }\n\n  if (h < 0) {\n    h = 22 - h;\n  } // juntar as string\n\n\n  if (h < 10) h = \"0\" + h;\n  if (m < 10) m = \"0\" + m;\n  return h + \":\" + m;\n}\n\nconst RealDataFromSala = entrada => {\n  _s();\n\n  const [tableInfo, setTableInfo] = useState([]);\n  useEffect(() => {\n    if (entrada.salaSelecionada.length != 0 && entrada.salaSelecionada != 0) {\n      axios.get(\"https://softinsa-reunions-back.herokuapp.com/reservas/getListBySalaTodayTomorrow/\" + entrada.salaSelecionada, {\n        headers: authHeader()\n      }).then(res => {\n        console.log(res.data.data);\n        setTableInfo(res.data.data);\n      }).catch(error => {});\n    } else {\n      if (entrada.centroSelecionado.length != 0) {\n        axios.get(\"https://softinsa-reunions-back.herokuapp.com/reservas/getListByCentroTodayTomorrow/\" + entrada.centroSelecionado, {\n          headers: authHeader()\n        }).then(res => {\n          console.log(res.data.data);\n          setTableInfo(res.data.data);\n        }).catch(error => {});\n      }\n    }\n  }, [entrada.salaSelecionada, entrada.centroSelecionado]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Id\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Reservador\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Data de Reserva\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Inicio - Fim\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Final de Limpeza\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Descri\\xE7\\xE3o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Sala\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Nr\\xBA Participantes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: tableInfo === null || tableInfo === void 0 ? void 0 : tableInfo.filter(info => {\n          return info.cancelado ? false : true;\n        }).map((info, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: info.id_reserva\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [info.Utilizadore.primeironome + \" \" + info.Utilizadore.sobrenome, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: info.dataReserva\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: info.horaInicio.slice(0, 5) + \" - \" + formatFimByLimpeza(info.horaFim, info.Sala.tempo_limpeza)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: info.horaFim.slice(0, 5)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: info.descricao\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: info.Sala.nomesala\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: info.nr_participantes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(RealDataFromSala, \"NBWeodA9h7H2CcmO4Hl5/7/yd9E=\");\n\n_c = RealDataFromSala;\nexport default RealDataFromSala;\n\nvar _c;\n\n$RefreshReg$(_c, \"RealDataFromSala\");","map":{"version":3,"names":["React","useEffect","useState","Table","axios","authHeader","formatFimByLimpeza","fim","tempoLimpeza","h","parseInt","slice","m","RealDataFromSala","entrada","tableInfo","setTableInfo","salaSelecionada","length","get","headers","then","res","console","log","data","catch","error","centroSelecionado","filter","info","cancelado","map","index","id_reserva","Utilizadore","primeironome","sobrenome","dataReserva","horaInicio","horaFim","Sala","tempo_limpeza","descricao","nomesala","nr_participantes"],"sources":["G:/.Work/.Personal/Website/frontend/src/components/Charts/realDataFromSala.js"],"sourcesContent":["import \"chartjs-adapter-date-fns\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport authHeader from \"../../services/auth-header\";\r\n\r\nfunction formatFimByLimpeza(fim, tempoLimpeza) {\r\n  var h = parseInt(fim.slice(0, 2));\r\n  var m = parseInt(fim.slice(3, 5));\r\n\r\n  m -= parseInt(tempoLimpeza);\r\n  while (m < 0) {\r\n    m += 60;\r\n    h -= 1;\r\n  }\r\n  if (h < 0) {\r\n    h = 22 - h;\r\n  }\r\n\r\n  // juntar as string\r\n  if (h < 10) h = \"0\" + h;\r\n  if (m < 10) m = \"0\" + m;\r\n  return h + \":\" + m;\r\n}\r\n\r\nconst RealDataFromSala = (entrada) => {\r\n  const [tableInfo, setTableInfo] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (entrada.salaSelecionada.length != 0 && entrada.salaSelecionada != 0) {\r\n      axios\r\n        .get(\"https://softinsa-reunions-back.herokuapp.com/reservas/getListBySalaTodayTomorrow/\" + entrada.salaSelecionada, {\r\n          headers: authHeader(),\r\n        })\r\n        .then((res) => {\r\n          console.log(res.data.data);\r\n          setTableInfo(res.data.data);\r\n        })\r\n        .catch((error) => {});\r\n    } else {\r\n      if (entrada.centroSelecionado.length != 0) {\r\n        axios\r\n          .get(\"https://softinsa-reunions-back.herokuapp.com/reservas/getListByCentroTodayTomorrow/\" + entrada.centroSelecionado, {\r\n            headers: authHeader(),\r\n          })\r\n          .then((res) => {\r\n            console.log(res.data.data);\r\n            setTableInfo(res.data.data);\r\n          })\r\n          .catch((error) => {});\r\n      }\r\n    }\r\n  }, [entrada.salaSelecionada, entrada.centroSelecionado]);\r\n\r\n  return (\r\n    <>\r\n      <Table>\r\n        <thead>\r\n          <tr>\r\n            <th>Id</th>\r\n            <th>Reservador</th>\r\n            <th>Data de Reserva</th>\r\n            <th>Inicio - Fim</th>\r\n            <th>Final de Limpeza</th>\r\n            <th>Descrição</th>\r\n            <th>Sala</th>\r\n            <th>Nrº Participantes</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {tableInfo\r\n            ?.filter((info) => {\r\n              return info.cancelado ? false : true;\r\n            })\r\n            .map((info, index) => (\r\n              <tr>\r\n                <td>{info.id_reserva}</td>\r\n                <td>{info.Utilizadore.primeironome + \" \" + info.Utilizadore.sobrenome} </td>\r\n                <td>{info.dataReserva}</td>\r\n                <td>{info.horaInicio.slice(0, 5) + \" - \" + formatFimByLimpeza(info.horaFim, info.Sala.tempo_limpeza)}</td>\r\n                <td>{info.horaFim.slice(0, 5)}</td>\r\n                <td>{info.descricao}</td>\r\n                <td>{info.Sala.nomesala}</td>\r\n                <td>{info.nr_participantes}</td>\r\n              </tr>\r\n            ))}\r\n        </tbody>\r\n      </Table>\r\n    </>\r\n  );\r\n};\r\nexport default RealDataFromSala;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}